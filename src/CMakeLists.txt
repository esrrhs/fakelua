cmake_minimum_required(VERSION 3.5 FATAL_ERROR)

project(libfakelua)

aux_source_directory(./bison FAKELUA_SRC_LIST)
aux_source_directory(./flex FAKELUA_SRC_LIST)
aux_source_directory(./compile FAKELUA_SRC_LIST)
aux_source_directory(./state FAKELUA_SRC_LIST)
aux_source_directory(./util FAKELUA_SRC_LIST)
aux_source_directory(./fakelua FAKELUA_SRC_LIST)
aux_source_directory(./interpreter FAKELUA_SRC_LIST)
aux_source_directory(./ FAKELUA_SRC_LIST)
include_directories(./)
include_directories(../include)
include_directories(./platform)
add_library(fakelua STATIC ${FAKELUA_SRC_LIST})
IF (WIN32)
    target_link_libraries(fakelua PRIVATE glog::glog gflags_nothreads_static)
ELSE ()
    target_link_libraries(fakelua PRIVATE profiler_static glog::glog gflags_nothreads_static)
ENDIF ()
